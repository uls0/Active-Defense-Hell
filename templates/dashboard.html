<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>HELL v10.7.0 | SINGULARITY ELITE</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { background-color: #050505; color: #e0e0e0; font-family: 'Courier New', monospace; }
        .neon-border { border: 1px solid #ff0000; box-shadow: 0 0 10px #ff0000; }
        .stat-card { background: rgba(20, 20, 20, 0.9); border: 1px solid #333; }
        .glitch { animation: pulse 2s infinite; }
        @keyframes pulse { 0% { opacity: 1; } 50% { opacity: 0.5; } 100% { opacity: 1; } }
    </style>
</head>
<body class="p-4">
    <div class="flex justify-between items-center border-b border-red-900 pb-4 mb-6">
        <h1 class="text-2xl font-bold text-red-600 tracking-tighter">PROJECT HELL // v10.7.0 SINGULARITY ELITE</h1>
        <div class="bg-red-950 text-red-500 px-3 py-1 rounded text-xs font-bold glitch">SYSTEM STATUS: LETHAL</div>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-4">
        <div class="stat-card p-4 rounded text-center border-t-2 border-red-500 bg-red-950/20">
            <span class="text-gray-400 text-xs uppercase font-bold">TOP Attacker IP</span>
            <div id="top_attacker" class="text-xl font-bold text-red-500">N/A</div>
        </div>
        <div class="stat-card p-4 rounded text-center border-t-2 border-blue-500 bg-blue-950/20">
            <span class="text-gray-400 text-xs uppercase font-bold">TOP Attack Type</span>
            <div id="top_type" class="text-xl font-bold text-blue-400">N/A</div>
        </div>
        <div class="stat-card p-4 rounded text-center border-t-2 border-yellow-500 bg-yellow-950/20">
            <span class="text-gray-400 text-xs uppercase font-bold">TOP Port</span>
            <div id="top_port" class="text-xl font-bold text-yellow-500">N/A</div>
        </div>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-5 gap-4 mb-6">
        <div class="stat-card p-4 rounded text-center">
            <span class="text-gray-500 text-xs uppercase">Payload Injected</span>
            <div id="data" class="text-3xl font-bold text-red-500">0 Mb</div>
        </div>
        <div class="stat-card p-4 rounded text-center">
            <span class="text-gray-500 text-xs uppercase">Secured Time</span>
            <div id="time" class="text-3xl font-bold text-blue-500">0 Hrs</div>
        </div>
        <div class="stat-card p-4 rounded text-center">
            <span class="text-gray-500 text-xs uppercase">Historical IPs</span>
            <div id="historical" class="text-3xl font-bold text-yellow-500">0</div>
        </div>
        <div class="stat-card p-4 rounded text-center">
            <span class="text-gray-500 text-xs uppercase">Active Attacks</span>
            <div id="active" class="text-3xl font-bold text-green-500">0</div>
        </div>
        <div class="stat-card p-4 rounded text-center border-l-2 border-red-600">
            <span class="text-gray-500 text-xs uppercase">Target Countries</span>
            <div id="countries_count" class="text-3xl font-bold text-orange-500">0</div>
        </div>
    </div>

    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
        <div class="stat-card p-4 rounded overflow-hidden lg:col-span-2">
            <h3 class="text-red-800 font-bold mb-4 uppercase">Target Engagement Feed</h3>
            <div id="feed" class="space-y-2 text-xs"></div>
        </div>
        <div class="stat-card p-4 rounded">
            <h3 class="text-yellow-800 font-bold mb-4 uppercase">Attack Signatures</h3>
            <div id="signatures" class="space-y-2 text-[10px]"></div>
            <h3 class="text-blue-800 font-bold mt-6 mb-4 uppercase">Attack Types</h3>
            <div id="types" class="space-y-2 text-[10px]"></div>
        </div>
    </div>

    <script>
        async function update() {
            try {
                const r = await fetch('/api/stats');
                const d = await r.json();
                document.getElementById('data').innerText = (d.total_data * 8).toFixed(2) + " Mb";
                document.getElementById('time').innerText = (d.total_time / 3600).toFixed(1) + " HR";
                document.getElementById('historical').innerText = d.new_ips_count;
                document.getElementById('active').innerText = d.active_ips.length;
                document.getElementById('countries_count').innerText = Object.keys(d.countries).length;
                
                // TOP Metrics Update
                document.getElementById('top_attacker').innerText = d.top_attacker;
                document.getElementById('top_type').innerText = d.top_type;
                document.getElementById('top_port').innerText = d.top_port;

                document.getElementById('feed').innerHTML = d.recent_events.map(e => `
                    <div class="border-l-2 border-red-900 pl-2 py-1 mb-2 bg-black/40">
                        <div class="flex justify-between text-[10px]">
                            <span class="text-gray-600">${e.time}</span>
                            <span class="text-red-900">${e.origin}</span>
                        </div>
                        <div class="text-sm">
                            <b class="text-red-500">${e.ip}</b> -> <span class="text-gray-300">Port ${e.port}</span>
                        </div>
                        <div class="text-[9px] text-gray-500">
                            ${e.network} | <span class="text-yellow-600">${e.actor}</span>
                        </div>
                    </div>
                `).reverse().join('');

                document.getElementById('signatures').innerHTML = Object.entries(d.signatures).map(([s, count]) => `
                    <div class="flex justify-between border-b border-gray-800 py-1">
                        <span class="text-gray-400">${s}</span>
                        <span class="text-yellow-500 font-bold">${count}</span>
                    </div>
                `).join('');

                document.getElementById('types').innerHTML = Object.entries(d.attack_types).map(([t, count]) => `
                    <div class="flex justify-between border-b border-gray-800 py-1">
                        <span class="text-gray-400">${t}</span>
                        <span class="text-blue-500 font-bold">${count}</span>
                    </div>
                `).join('');
            } catch (e) { console.error(e); }
        }
        setInterval(update, 3000);
        update();
    </script>
</body>
</html>
